<apex:page sidebar="false" standardStylesheets="false">
  <head>
    <apex:stylesheet value="{!$Resource.bootstrap_css}"/>
    <apex:includeScript value="https://ajax.googleapis.com/ajax/libs/dojo/1.4.3/dojo/dojo.xd.js"/>
    <apex:includeScript value="{!$Resource.common_cometd_js}"/>
    <apex:includeScript value="{!$Resource.cometd_js}"/>
    
    <script type="text/javascript">
        dojo.require("dojox.cometd");
        
        dojo.addOnLoad(function()
        {
            var _connected = false;
        
            function _connectionSucceeded()
            {
                dojo.byId('body').innerHTML = 'CometD Connection Succeeded';
            }
        
            function _connectionBroken()
            {
                dojo.byId('body').innerHTML = 'CometD Connection Broken';
            }
        
            function _metaConnect(message)
            {
                var wasConnected = _connected;
                _connected = message.successful === true;
                if (!wasConnected && _connected)
                {
                    _connectionSucceeded();
                }
                else if (wasConnected && !_connected)
                {
                    _connectionBroken();
                }
            }
        
            var cometd = dojox.cometd;
        
            // Disconnect when the page unloads
            dojo.addOnUnload(function()
            {
                cometd.disconnect();
            });
        
            var auth = 'OAuth {!$Api.Session_ID}';
            var cometUrl = 'https://' + window.location.hostname + '/cometd/23.0/';
            cometd.configure({
                url: cometUrl,
                requestHeaders: {Authorization: auth}
            });
        
            cometd.addListener('/meta/connect', _metaConnect);
        
            cometd.handshake();
        });
    </script>
  </head>

  <body>

    <div class="container">

      <!-- Main hero unit for a primary marketing message or call to action -->
      <div class="hero-unit">
        <h1>Realtime Energy Monitoring</h1>
        <br/>
        <p>1 Market Street, San Francisco, CA  94105</p>
        <p>Vestibulum id ligula porta felis euismod semper. Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit.</p>
        <p><a class="btn primary large">Learn more &raquo;</a></p>
      </div>

      <!-- Example row of columns -->
      <div class="row">
        <div class="span6">
          <h2>Sensor 1000000</h2>
          <p>Etiam porta sem malesuada magna mollis euismod. Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit.</p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div>
        <div class="span5">
          <h2>Sensor 1000001</h2>
           <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
       </div>
        <div class="span5">
          <h2>Sensor 1000002</h2>
          <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div>
      </div>

      <footer>
        <p>Streaming brought to you by RealtimeForce</p>
      </footer>

    </div> <!-- /container -->

  </body>
  
  
</apex:page>